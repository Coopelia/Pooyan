{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\wolf_move.js"],"names":["cc","Class","extends","Component","properties","hit_audio","default","type","AudioClip","speed","timer","angle","x_speed","isShooted","y_min","wolfGet","wolfUnder","wolfEnd","animPlay","onLoad","director","getCollisionManager","enabled","onCollisionEnter","other","self","audioEngine","setEffectsVolume","playEffect","ball","node","getChildByName","destroy","wolfFire","getComponent","Animation","play","wolfAction","setSiblingIndex","Global","wolfUnderLadder","x","y","wolfAtLadder","updateNum","number_wolf","start","update","dt"],"mappings":"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","file":"wolf_move.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        hit_audio: {\r\n            default: null,\r\n            type: cc.AudioClip,\r\n        },\r\n        speed: 0,\r\n        timer: 0,\r\n        angle: 0,\r\n        x_speed: 0,\r\n        isShooted: 0,\r\n        y_min: -280,\r\n        wolfGet: 0,\r\n        wolfUnder: 0,\r\n        wolfEnd: 0,\r\n        animPlay: 0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad: function() {\r\n        cc.director.getCollisionManager().enabled = true;\r\n    },\r\n\r\n    onCollisionEnter: function(other, self) {\r\n        cc.audioEngine.setEffectsVolume(0.05);\r\n        cc.audioEngine.playEffect(this.hit_audio, false);\r\n        var ball = this.node.getChildByName('ball');\r\n        ball.destroy();\r\n        this.angle = 6;\r\n        this.x_speed++;\r\n        this.isShooted = 1;\r\n        this.y_min = -350;\r\n    },\r\n\r\n    wolfFire: function() {\r\n        this.node.getChildByName('fire').getComponent(cc.Animation).play();\r\n        this.animPlay = 1;\r\n    },\r\n\r\n    wolfAction: function() {\r\n        if (!this.wolfGet) {\r\n            var ball = this.node.getChildByName('ball');\r\n            ball.destroy();\r\n            this.wolfGet = 1;\r\n            this.node.setSiblingIndex(5);\r\n        }\r\n        if (!this.wolfUnder && Global.wolfUnderLadder == 4)\r\n            this.node.x += 3;\r\n        else if (this.node.x >= 395 && !this.wolfEnd) {\r\n            this.node.y++;\r\n            if (!this.wolfUnder) {\r\n                Global.wolfUnderLadder++;\r\n                this.wolfUnder = 1;\r\n            }\r\n            if (this.node.y >= -200 + Global.wolfAtLadder * 90) {\r\n                this.wolfEnd = 1;\r\n                Global.wolfAtLadder++;\r\n            }\r\n        } else if (!this.wolfEnd)\r\n            this.node.x += 3;\r\n        if (this.wolfEnd == 1 && !this.animPlay)\r\n            this.wolfFire();\r\n    },\r\n\r\n    updateNum: function() {\r\n        if (this.node.x >= 450) {\r\n            this.node.destroy();\r\n            Global.number_wolf++;\r\n        }\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    update: function(dt) {\r\n        if (this.node.y >= this.y_min && this.wolfGet == 0) {\r\n            this.timer += 1;\r\n            this.node.y -= this.speed;\r\n            this.node.x -= this.x_speed;\r\n            this.node.angle += this.angle;\r\n            this.timer = 0;\r\n            if (this.node.y <= -320)\r\n                this.node.destroy();\r\n        } else\r\n            this.wolfAction();\r\n        this.updateNum();\r\n    },\r\n});"]}